@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* Card component with proper border radius handling */
    .card {
        @apply bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden;
    }

    .card-header {
        @apply px-6 py-4 border-b border-slate-200 bg-slate-50;
    }

    .card-body {
        @apply p-6;
    }

    /* Fix for cards with colored headers - ensure border radius clips properly */
    .bg-white.rounded-lg,
    .bg-white.rounded-xl {
        overflow: hidden;
    }

    /* ================================================
       Category Combobox Styles
       ================================================ */
    
    .category-combobox {
        @apply relative;
    }

    .category-combobox[data-disabled] {
        @apply opacity-50 pointer-events-none;
    }

    .combobox-input {
        @apply w-full h-9 pl-3 pr-8 text-sm;
        @apply border border-slate-200 rounded-md bg-white;
        @apply hover:border-slate-300;
        @apply focus:border-blue-500 focus:ring-1 focus:ring-blue-500 focus:outline-none;
        @apply transition-colors;
    }

    .combobox-dropdown {
        @apply absolute z-50 mt-1 w-72 max-h-64 overflow-auto;
        @apply bg-white border border-slate-200 rounded-lg shadow-lg;
        /* Custom scrollbar */
        scrollbar-width: thin;
        scrollbar-color: theme('colors.slate.300') transparent;
    }

    .combobox-dropdown::-webkit-scrollbar {
        width: 6px;
    }

    .combobox-dropdown::-webkit-scrollbar-track {
        background: transparent;
    }

    .combobox-dropdown::-webkit-scrollbar-thumb {
        background-color: theme('colors.slate.300');
        border-radius: 3px;
    }

    .combobox-option {
        @apply cursor-pointer transition-colors;
    }

    .combobox-option:hover {
        @apply bg-slate-50;
    }

    .combobox-option.highlighted {
        @apply bg-blue-50;
    }

    .combobox-option.selected {
        @apply bg-blue-100;
    }

    .combobox-group-header {
        @apply text-sm font-semibold text-slate-700;
    }

    /* Ensure dropdown doesn't get clipped */
    .combobox-dropdown {
        min-width: 280px !important;
    }

    /* Custom thin scrollbar for options list */
    [x-ref="optionsList"] {
        scrollbar-width: thin;
        scrollbar-color: theme('colors.slate.300') transparent;
    }

    [x-ref="optionsList"]::-webkit-scrollbar {
        width: 6px;
    }

    [x-ref="optionsList"]::-webkit-scrollbar-track {
        background: transparent;
    }

    [x-ref="optionsList"]::-webkit-scrollbar-thumb {
        background-color: theme('colors.slate.300');
        border-radius: 3px;
    }

    /* ================================================
       Description Cell Styles
       ================================================ */
    
    .description-cell {
        @apply relative min-w-0;
    }

    .description-cell p.truncate {
        @apply max-w-full;
    }

    /* ================================================
       Row Actions Styles
       ================================================ */
    
    .row-actions {
        @apply flex items-center justify-end gap-0.5;
        @apply opacity-0 transition-opacity;
    }

    /* Always show actions on touch devices */
    @media (hover: none) {
        .row-actions {
            @apply opacity-100;
        }
    }

    /* ================================================
       Filter Bar Styles
       ================================================ */
    
    .filter-bar {
        @apply bg-white rounded-lg border border-slate-200;
    }

    /* ================================================
       Amount Display Styles
       ================================================ */
    
    .amount-debit {
        @apply font-mono font-semibold text-red-600;
    }

    .amount-credit {
        @apply font-mono font-semibold text-emerald-600;
    }

    /* ================================================
       Summary Cards Styles
       ================================================ */
    
    .summary-card {
        @apply bg-white rounded-lg shadow-sm border border-slate-200 p-4;
        @apply transition-shadow hover:shadow-md;
    }

    .summary-card.accent-red {
        @apply border-l-4 border-l-red-500;
    }

    .summary-card.accent-green {
        @apply border-l-4 border-l-emerald-500;
    }

    .summary-card.accent-blue {
        @apply border-l-4 border-l-blue-500;
    }

    .summary-card.accent-amber {
        @apply border-l-4 border-l-amber-500;
    }

    /* ================================================
       Utilities
       ================================================ */
    
    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }

    /* Focus visible ring */
    .focus-ring {
        @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
    }
}
